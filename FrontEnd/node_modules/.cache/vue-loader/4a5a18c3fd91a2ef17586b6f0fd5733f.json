{"remainingRequest":"D:\\MISA\\DemoVue\\my_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MISA\\DemoVue\\my_app\\src\\components\\Views\\EmployeeList.vue?vue&type=style&index=0&scope=true&lang=css&","dependencies":[{"path":"D:\\MISA\\DemoVue\\my_app\\src\\components\\Views\\EmployeeList.vue","mtime":1611758927587},{"path":"D:\\MISA\\DemoVue\\my_app\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MISA\\DemoVue\\my_app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\MISA\\DemoVue\\my_app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\MISA\\DemoVue\\my_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MISA\\DemoVue\\my_app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoNCi8qUGFnZSB0aWxlKi8NCiAgICAuY29udGVudCAuaGVhZGVyLWNvbnRlbnQgew0KICAgICAgICBwYWRkaW5nOiA4cHggMCAxNnB4IDA7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgfQ0KDQogICAgICAgIC5jb250ZW50IC5oZWFkZXItY29udGVudCAudGl0bGUgew0KICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgIH0NCg0KICAgICAgICAuY29udGVudCAuaGVhZGVyLWNvbnRlbnQgLmNvbnRlbnQtZmVhdHVyZXsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIHJpZ2h0OiAxNnB4Ow0KICAgICAgICB9DQoNCg0KLyogUGFnaW5nICovDQouY29udGVudCAucGFnaW5nLWJhcnsNCiAgICBoZWlnaHQ6IDU2cHg7DQp9DQoNCg0KDQoNCg=="},{"version":3,"sources":["EmployeeList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4RA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA","file":"EmployeeList.vue","sourceRoot":"src/components/Views","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <div class=\"header-content\">\r\n            <div class=\"title\">Danh sách nhân viên</div>\r\n            <div class=\"content-feature\">\r\n                <button @click='btnAddOnClick   ' id=\"btnAdd\" class=\"m-btn m-btnIcon m-btn-default\">\r\n                    <div class=\"m-btn-icon icon-add\"></div>\r\n                    <div class=\"btn-text\">Thêm nhân viên</div>\r\n                </button>\r\n                <DialogDetailEmployee @closePopup=\"closePopup\" :isHide=\"isHideParent\"></DialogDetailEmployee>\r\n            </div>\r\n        </div>\r\n        <div class=\"filter-bar\">\r\n            <div class=\"filter-left\">\r\n                <input v-model=\"filter.keyword\" id=\"txtSearchEmployee\" class=\"icon-search input-search\" type=\"text\"\r\n                    placeholder=\"Tìm kiếm theo Mã, Tên hoặc Số điện thoại\" />\r\n                <Departments  :departmentId2=\"this.filter.departmentId\" @setItemSelected=\"setDepartmentId\"></Departments>\r\n                <Postions :positionId2=\"this.filter.positionId\"   @setItemSelected=\"setPositionId\"></Postions>\r\n            </div>\r\n            <div class=\"filter-right\">\r\n\r\n                <button id=\"btnDelete\" class=\"m-second-button m-btn-delete\"></button>\r\n                <button @click=\"btnRefreshClick\" id=\"btnRefresh\" class=\"m-second-button m-btn-refresh\">\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <div\r\n            class=\"grid grid-employee el-table el-table--fit el-table--scrollable-y el-table--enable-row-hover el-table--enable-row-transition\">\r\n            <table id=\"tbListData\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class=\"el-table__body\"\r\n                style=\"min-width: 100%;\">\r\n                <thead >\r\n                    <tr class=\"el-table__row\">\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_114 is-leaf\" fieldName=\"\">\r\n                            <div class=\"cell\">\r\n                                <div class=\"boxCheck\">\r\n                                    <input type=\"checkbox\" class=\"checkboxIP\" id=\"checkboxIP\" name=\"\">\r\n                                    <div class=\"checkmark\">\r\n                                        <div>\r\n                                            <div></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_114 is-leaf\" fieldName=\"EmployeeCode\">\r\n                            <div class=\"cell\">Mã nhân viên</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_115 is-leaf\" fieldName=\"FullName\">\r\n                            <div class=\"cell\">Họ và tên</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"GenderName\">\r\n                            <div class=\"cell\">Giới tính</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"DateOfBirth\"\r\n                            formatType=\"ddmmyyyy\">\r\n                            <div class=\"cell\">Ngày sinh</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"PhoneNumber\">\r\n                            <div class=\"cell\">Điện thoại</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"Email\">\r\n                            <div class=\"cell\">Email</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"PositionName\">\r\n                            <div class=\"cell\">Chức vụ</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"DepartmentName\">\r\n                            <div class=\"cell\">Phòng ban</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"Salary\"\r\n                            formatType=\"Money\">\r\n                            <div class=\"cell\">Mức lương cơ bản</div>\r\n                        </th>\r\n                        <th colspan=\"1\" rowspan=\"1\" class=\"el-table_30_column_116 is-leaf\" fieldName=\"WorkStatusName\">\r\n                            <div class=\"cell\">Tình trạng công việc</div>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr\r\n                        class=\"el-table__row\"\r\n                        v-for=\"employee in employees\"\r\n                        :key=\"employee.EmployeeId\"\r\n                        @dblclick=\"rowOnClick(employee)\"\r\n                    >\r\n                        <td  style=\"width: 30px;\">\r\n                            <div class=\"cell\">\r\n                                <div class=\"boxCheck\">\r\n                                    <input type=\"checkbox\" class=\"checkboxIP\" id=\"\" name=\"\" :value=\"employee.employeeId\">\r\n                                    <div class=\"checkmark\">\r\n                                        <div>\r\n                                            <div></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.employeeCode !==null ? employee.employeeCode : '' }}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.fullName !==null ? employee.fullName : ''}}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.gender !==null  ? formatGender(employee.gender) : 'Khác'}}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.dateOfBirth !==null ?  formatDate(employee.dateOfBirth) : '' }}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.phoneNumber !==null ?  employee.phoneNumber : ''}}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.email !==null ? employee.email : ''}}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.positionName !== null ? employee.positionName : ''}}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.departmentName !== null ? employee.departmentName : ''}}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ employee.salary !== null ? formatCurrency(employee.salary) : ''}}</div>\r\n                        </td>\r\n                        <td>\r\n                        <div class=\"cell\">{{ (employee.status !== null) ? formatStatus(employee.status) : ''}}</div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div class=\"paging-bar\">\r\n            <div class=\"paging-record-info\">\r\n                Hiển thị <b></b> nhân viên\r\n            </div>\r\n            <div class=\"paging-option\">\r\n                <div class=\"btn-select-page m-btn-firstpage\"></div>\r\n                <div class=\"btn-select-page m-btn-prev-page\"></div>\r\n                <div class=\"m-btn-list-page\">\r\n                </div>\r\n                <div class=\"btn-select-page m-btn-next-page\"></div>\r\n                <div class=\"btn-select-page m-btn-lastpage\"></div>\r\n            </div>\r\n            <div class=\"paging-record-option\">\r\n                <Combobox v-model=\"setItemSelected\" @setItemSelected=\"setItemSelected\" :end=\"pagi.end\" :itemSelected=\"pagi.itemSelected\" :category=\"pagi.category\"  :header=\"pagi.header\" :content=\"pagi.pagis\"></Combobox>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n import * as axios from \"axios\";\r\nimport Combobox from \"../common/Combobox.vue\"\r\n import Departments from \"../Views/Department.vue\" ;\r\n import Postions from \"../Views/Positions.vue\" ;\r\nimport DialogDetailEmployee from \"./DialogDetailEmployee.vue\";\r\nexport default {\r\n    async updated(){\r\n        \r\n    const response = await axios.get(\"https://localhost:44349/api/Employees/search?keyword=\" + this.filter.keyword + \"&departmentId=\" + this.filter.departmentId + \"&positionId=\" + this.filter.positionId + \"&limitParam=\" +  this.getLimit() + \"&offsetParam=\" + this.offset);    \r\n       this.employees = response.data;\r\n    },\r\n    async created () {\r\n       const response = await axios.get(\"https://localhost:44349/api/Employees/search?keyword=\" + this.filter.keyword + \"&departmentId=\" + this.filter.departmentId + \"&positionId=\" + this.filter.positionId + \"&limitParam=\" +  this.getLimit() + \"&offsetParam=\" + this.offset);    \r\n       this.employees = response.data;\r\n    },\r\n\r\n    props: {\r\n\r\n    },\r\n    name: \"Employees\",\r\n    components: {\r\n        DialogDetailEmployee,\r\n        Combobox,\r\n        Departments,\r\n        Postions,\r\n    },\r\n    methods: {\r\n        rowOnClick(employee){\r\n            alert(employee.fullName)\r\n        },\r\n        btnRefreshClick(){\r\n            this.filter.keyword = '';\r\n            this.filter.departmentId = '';\r\n            this.filter.positionId = ''\r\n            \r\n        },\r\n        setDepartmentId(data){\r\n            this.filter.departmentId = data.id;\r\n        },\r\n        setPositionId(data){\r\n            this.filter.positionId = data.id;\r\n        },\r\n\r\n        setItemSelected(data){\r\n          this.pagi.itemSelected = {pagiId: data.id};\r\n        },\r\n     \r\n        formatStatus(status) {\r\n            if (status === 1) {\r\n                return \"Đang làm việc\";\r\n            }\r\n            if (status === 0) return \"Đang nghỉ việc\";\r\n            return \"Đang thử việc\";\r\n        },\r\n\r\n        formatGender(gender) {\r\n            if (gender === 1) {\r\n                return \"Nữ\";\r\n            }\r\n            if (gender === 0) return \"Nam\";\r\n            return \"Khác\";\r\n        },\r\n\r\n        formatCurrency(salary) {\r\n            if (!salary) return \"\";\r\n            return salary.split(/(?=(?:\\d{3})+(?:\\.|$))/g).join(\".\");\r\n\r\n        },\r\n\r\n        formatDate(date) {\r\n            var date2 = new Date(date);\r\n            var year = date2.getFullYear();\r\n            if (year < 1000) return \"\";\r\n            // lấy ngày:\r\n            var day = date2.getDate();\r\n            if (day < 10) day = \"0\" + day;\r\n\r\n            // lấy tháng:\r\n            var month = date2.getMonth() + 1;\r\n            if (month < 10) month = \"0\" + month;\r\n            // lấy năm:\r\n\r\n            return day + '/' + month + '/' + year;\r\n        },\r\n        btnAddOnClick(){\r\n            this.isHideParent = false;\r\n        },\r\n        closePopup(value){\r\n            this.isHideParent = value;\r\n        },\r\n        getLimit(){\r\n            return this.pagi.pagis.filter(item => item.pagiId === this.pagi.itemSelected.pagiId)[0].value;\r\n        }\r\n    },\r\n    computed: {\r\n        \r\n    },\r\n    data() {\r\n        return {\r\n            \r\n            filter:{\r\n                keyword: '',\r\n                departmentId: '',\r\n                positionId: ''\r\n            },\r\n            isHideParent: true,\r\n            offset: 0,\r\n            employees:[\r\n\r\n            ],\r\n            pagi:{\r\n                pagis:[\r\n                {pagiId: 1, pagiName: '10 nhân viên/trang', value: 10},\r\n                 {pagiId: 2, pagiName: '20 nhân viên/trang', value: 20},\r\n                  {pagiId: 3, pagiName: '50 nhân viên/trang', value: 50},\r\n                ],\r\n                itemSelected: {pagiId: 1},\r\n                category: 'pagi',\r\n                end: true,\r\n                header:'Số nhân viên/trang',\r\n            },\r\n            \r\n            \r\n        }\r\n    },\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scope>\r\n\r\n/*Page tile*/\r\n    .content .header-content {\r\n        padding: 8px 0 16px 0;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n        .content .header-content .title {\r\n            font-size: 20px;\r\n            font-weight: bold;\r\n        }\r\n\r\n        .content .header-content .content-feature{\r\n            position: absolute;\r\n            right: 16px;\r\n        }\r\n\r\n\r\n/* Paging */\r\n.content .paging-bar{\r\n    height: 56px;\r\n}\r\n\r\n\r\n\r\n\r\n</style>"]}]}